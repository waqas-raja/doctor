{% extends 'dashboard_basic.html' %}
{% block css %}
<style>
    .modal, .modal-backdrop { position: absolute !important; }
    .modal-backdrop { width: 100%; height: 100%; opacity: 0.3 !important; }
</style>
{% endblock css %}

{% load static %}

{% block body %}
{% include 'sidebar.html' %}
<div class="col-sm-9">
    {% include 'navbar.html' %}

    <div class="row align-items-center listRow">
        <div class="col-lg-12 position-relative">
            <div class="card">
                <div class="card-body p-3 position-relative genCardBody">
                    <div class="position-absolute d-flex m-auto align-items-center w-50 text-center"
                        style="top: 0; bottom: 0; right: 0; left: 0;">
                        <div class="row align-items-center">
                            <div class="col-lg-12">
                                <div class="searchPatient mb-3">
                                    <input type="text" class="form-control" id="txtSearchPatient" placeholder="Cerca"
                                        required>
                                </div>
                                <p class="mmTagLine mb-3">
                                    Seleziona il paziente per cui vuoi fare la misurazione, oppure
                                </p>
                                <h3 id="createNewPatient" class="mmAddPatientOption" role="button" data-bs-toggle="modal"
                                    data-bs-target="#addNewPatientModal">
                                    Crea un nuovo paziente
                                </h3>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="addNewPatientModal" tabindex="-1"
                        aria-labelledby="addNewPatientModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-body p-5">
                                    <form class="mb-0" id="patientForm">
                                        {% csrf_token %}
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <div data-mdb-input-init class="form-outline">
                                                    <label class="form-label" for="txtName">Nome</label>
                                                    <input type="text" id="txtName" class="form-control" name="txtName"
                                                        required />
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <div data-mdb-input-init class="form-outline">
                                                    <label class="form-label" for="txtSurname">Cognome</label>
                                                    <input type="text" id="txtSurname" class="form-control"
                                                        name="txtSurname" required />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <div data-mdb-input-init class="form-outline mb-3">
                                                    <label class="form-label" for="ddlGender">Genere</label>
                                                    <select class="form-select" id="ddlGender" name="ddlGender"
                                                        aria-label="Default select example">
                                                        <option selected></option>
                                                        <option value="M">Male</option>
                                                        <option value="F">Female</option>
                                                        <option value="O">Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <div data-mdb-input-init class="form-outline mb-3">
                                                    <label class="form-label" for="txtInternalCode">Codice
                                                        interno</label>
                                                    <input type="text" id="txtInternalCode" class="form-control"
                                                        name="txtInternalCode" required />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-12 text-center">
                                                <button type="submit" id="btnSavePatient" class="btn btnPrimary w-50">
                                                    Salva
                                                </button>
                                                <button type="button" id="closeModal" data-bs-dismiss="modal"
                                                    style="display: none;"></button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
{% endblock body %}
{% block js %}
<script src="{% static 'js/dashboard.js' %}"></script>
<script src="{% static 'js/savePatient.js' %}"></script>
{% endblock js %}